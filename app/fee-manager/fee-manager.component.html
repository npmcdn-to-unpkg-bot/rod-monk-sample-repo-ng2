<div class="container">
	<md-progress-bar *ngIf="isLoading" mode="indeterminate" color="warn"></md-progress-bar>
	<div class="page-header">
		<h3>Fee Management</h3>
	</div>
	<div class="col-xs-4">
		<label for="searchkey">Search</label>
		<input id="searchKeyId" class="form-control input-sm" placeholder="Search by Account Name" [(ngModel)]="searchKey" type="search"
			autofocus/>
	</div>
	<!-- Accounting Year Selection-->
	<div class="col-xs-4">
		<label for="accountingyear">Accounting Year</label>
		<select id="accountingYearId" class="form-control input-sm" name="accountYearSelect" [(ngModel)]="accountingYear">
				<option value=2016>2016</option>
				<option value=2017>2017</option>
				<option value=2018>2018</option>
				<option value=2019>2019</option>
				<option value=2020>2020</option>
				<option value=2021>2021</option>
				<option value=2022>2022</option>
				<option value=2023>2023</option>
				<option value=2024>2024</option>
				<option value=2025>2025</option>
		</select>
	</div>
	<div class="col-xs-4 text-center">
		<span style="display: inline-block; width: 200px;">
        <input id="unpaidOnlyId" type="checkbox" [(ngModel)]="unpaidonly"><strong>&nbsp;Unpaid Only</strong>
	</span>
	</div>
</div>
<div class="container">
	<hr>
	<div class="table-responsive">
		<table class="table">
			<colgroup>
				<col width="200">
				<col width="40">
				<col width="100">
				<col width="200">
			</colgroup>
			<thead>
				<tr>
					<th>
						<p class="text-left">Account Name</p>
					</th>
					<th>
						<p class="text-left">Paid</p>
					</th>
					<th>
						<p class="text-left">Fees</p>
					</th>
					<th>
						<p class="text-left">Email</p>
					</th>
				</tr>
			</thead>
		</table>
	</div>

	<div class="table-responsive" style="height:600px; overflow: scroll;">
		<table class="table table-striped table-hover">
			<colgroup>
				<col width="230">
				<col width="60">
				<col width="100">
				<col width="200">
			</colgroup>
			<tbody>
				<tr class="info" *ngFor="let account of filteredAccounts">
					<td>
						<p class="text-left">{{account.accountname}}</p>
					</td>
					<td>
						<input [disabled]="!userService.hasPermission('accounts:update')" type="checkbox" [(ngModel)]="account.paid" (click)="togglePaid (account)">
					</td>
					<td>
						<p class="text-left">{{account.fees}}</p>
					</td>
					<td>
						<a href="mailto:{{account.emailaddress}}?cc=tsawwassentennisclub@gmail.com&subject=TTC Fees">
							<p class="text-left">{{account.emailaddress}}</p>
						</a>
					</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>